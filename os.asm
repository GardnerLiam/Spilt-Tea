mov ax, 0x9c
mov ss, ax
mov sp, 0x1000; try 1000h
mov ax, 0x7c0
mov ds, ax

;---------------------
;background
mov ah, 0x9
mov cx, 0x1000
mov al, 0x20
mov bl, 0x17
int 0x10

mov ah, 0x9
mov cx, 0x50
mov al, 0x20
mov bl, 0x0d
int 0x10


;drawtitle was here

mov ah, 0xe
mov al, 0xBA
int 0x10

mov ah, 0xe
mov al, 0x53
int 0x10

mov ah, 0xe
mov al, 0x70
int 0x10

mov ah, 0xe
mov al, 0x69
int 0x10

mov ah, 0xe
mov al, 0x6c
int 0x10

mov ah, 0xe
mov al, 0x74
int 0x10

mov ah, 0xe
mov al, 0x20
int 0x10

mov ah, 0xe
mov al, 0x54
int 0x10

mov ah, 0xe
mov al, 0x65
int 0x10

mov ah, 0xe
mov al, 0x61
int 0x10

mov ah, 0xe
mov al, 0xBA
int 0x10

;move mouse to 0,2 (x,y)
; drawing "f(x)="
mov ah, 0x2
mov dl, 0x0
mov dh, 0x2
int 0x10

mov ah, 0x9
mov cx, 0x5
mov al, 0x20
mov bl, 0x1a
int 0x10

;f(x)=
mov ah, 0xe
mov al, 0x9f
int 0x10
mov ah, 0xe
mov al, 0x28
int 0x10
mov ah, 0xe
mov al, 0x78
int 0x10
mov ah, 0xe
mov al, 0x29
int 0x10
mov ah, 0xe
mov al, 0x3d
int 0x10

;cursor
mov ah, 0x3
mov cx, 0x3
int 0x10

mov bl, 0x5
mov cl, 0x2
jmp _mouse


_mouse:
mov ah, 0x2
mov dl, bl
mov dh, cl
int 0x10
mov ah, 0x0
int 0x16
jmp _draw
jmp _mouse

_draw:
mov ah, 0xe
mov al, al
int 0x10
cmp bl, 0x4f
je _nextline
cmp bl, 0x4f
jne _forward
jmp _mouse

_forward:
add bl, 0x1
jmp _mouse

_nextline:
add cl, 0x1
mov bl, 0x0
jmp _mouse

_up:
cmp cl, 0x1
je _mouse
sub cl, 0x1
jmp _mouse

_down:
cmp cl, 0x18
je _mouse
add cl, 0x1
jmp _mouse

_left:
cmp bl, 0x0
je _mouse
sub bl, 0x1
jmp _mouse

_right:
cmp bl, 0x4f
je _mouse
add bl, 0x1
jmp _mouse

_click:
mov ah, 0xe
mov al, bl
xor al, cl
int 0x10
jmp _mouse

;---------------------

times 510-($-$$) db 0
dw 0xAA55
